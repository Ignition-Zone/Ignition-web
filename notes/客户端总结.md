* vite  
    - TS支持  使用 vite-plugin-dts插件进行一些类型的打包输出。
    - 对于一些公用模块, 如React 需要使用 external将其排除,避免后续产生重复的模块依赖代码没有被 tree shaking
    - 定义好全局 UMD的关键信息,避免因为环境缺少相关依赖而出现问题。

```
import react from "@vitejs/plugin-react";
import dts from 'vite-plugin-dts'

export default {
  plugins: [
    react(),
   dts()],
  build: {
    lib: {
     entry: 'src/index.ts',
     fileName: (format) => `index.${format}.js`
    },
    rollupOptions: {
      // 排除 React 和 React DOM，因为这些库应该由使用你的库的项目来提供
      external: ['react', 'react-dom'],
      output: {
        // 配置 UMD 格式，使你的组件库可以在不同的环境中使用
       globals: {
          react: 'React',
          'react-dom': 'ReactDOM'
        },
        // 配置 minify 选项，使输出文件更小
        minifyInternalExports: true
      }
    }
  }
};


```
* TSDX（TypeScript + Storybook + Vite）是一个强大的工具集，用于快速构建现代的、可测试的UI组件库。


* withMaterialNode 一个高阶组件,它接收一个组件,并在其上层进行一些逻辑处理,比如将 craft.js 拖拽逻辑 及后续需要注册通用属性和处理相关逻辑都可以放到这一层来做。
* createReactMaterial  创建React物料方法 主要是来创建物料config属性配置,其中定义了物料相关的描述和属性面板的配置实现。


* iframe
    - 在低代码平台当中，我们也需要借用 iframe 的能力来为编辑器画布提供对应的隔离能力，以此来兼容部分特殊单位在画布中的显示，如 vw、vh 等长度的单位的兼容，尤其是在移动端上被广泛应用。
    - vant 官网移动端展示,其中iframe 固定为 设计稿宽度, 里面组件也是按设计稿尺寸,也就可以适配。 其实就是把 iframe 展示窗口固定了。
    - 调用 iframe 元素的 setAttribute 方法，设置其 sandbox 属性为 'allow-same-origin allow-scripts' 。这个属性表示 iframe 中的脚本只能访问与主文档具有相同源的内容，并且只能运行;JavaScript 脚本。这可以保证 iframe 与主文档之间的安全隔离，防止 iframe 中的恶意脚本影响主文档;

* craftjs  
  - 左侧物料   
  - 中间画布  
  - 右侧属性面板 
    - Panel Setter  Form Field
    - 自定义控件

1. 创建物料    自有npm仓库  ->  页面引用 -> 静态资源 -> oss  cdn
2. 注入编辑器 
3. 拖拽入画布
4. 属性编排
5. 存储
6. 加载 ref.current.onLoadState

7. 动态逻辑执行与状态绑定   组件联动   最终绑定到 组件上  应该不包含  编辑时东西  iframe 
     - $$(const | jsx | event )

8. 本地预览  历史记录与版本功能    IndexDB
9. 远程资源加载应用
    - 使用 Object.keys(contentWindow) 先保存当前的keys，当script脚本onload后，在通过 Object.keys(contentWindow) 获取最新的keys，使用lodash的difference方法就能快速的得到两个数组之间的差异key，从而来精准的获取加载的模块。
10. 国际化 国际化语种配置  react-i18next i18next      addResource 异步更新

11. lowcode   procode


12. D2C的实现
    - PSD.js：老牌的Adobe Photoshop的解析器，可以将PSD相关的设计解析成为可管理的树结构数据。
    - sketch2json: 解析Sketch的方案，能够将Sketch保存的文件将其解析成为JSON节点数据，非常全面。

    - 插件  Figma插件  PS插件  Sketch插件  